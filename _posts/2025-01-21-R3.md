---
title: "R 프로그래밍 정리2"
excerpt: "R 프로그래밍의 기본 문법과 데이터 처리 방법을 정리한 글입니다. 변수, 데이터 타입, 연산자, 벡터, 행렬 등의 개념을 코드와 함께 설명합니다."

categories:
  - R
tags:
  - [R, R기초, R프로그래밍, R 프로그래밍 기초]

permalink: /R/R2/

toc: true
toc_sticky: true

date: 2025-01-21
last_modified_at: 2025-01-21
---

# R 프로그래밍 기초 정리2

아래는 주어진 코드 내용을 마크다운 형식으로 정리한 예시입니다. 각 코드 블록에 대한 설명을 추가하여 깔끔하게 구성했습니다.

---

# **R 코드 정리 및 설명**

## **1. 벡터 연산**

### **코드**
```r
a <- c(1,2,4,1,2,4,3,6,7,2,0)
b <- c(1,3,2,3,2,2,1,2,1,1,1)

# 벡터 내적 계산
sum(a * b)               # 요소별 곱의 합
(dotresult <- a %*% b)   # 내적 계산
```

### **설명**
- **벡터 내적**: 두 벡터의 동일 위치 요소를 곱한 후 합산하여 계산합니다.
    - `sum(a * b)`는 요소별 곱의 합을 직접 계산합니다.
    - `%*%` 연산자는 벡터 간 내적을 간단히 수행합니다.

---

## **2. 벡터 크기와 코사인 각도**

### **코드**
```r
# 벡터 크기 계산
anorm <- sqrt(sum(a^2))  # 벡터 a의 크기
bnorm <- sqrt(sum(b^2))  # 벡터 b의 크기

# 코사인 값과 라디안 각도 계산
costheta <- dotresult / (anorm * bnorm) # 코사인 값
radianangle <- acos(costheta)           # 라디안 값

# 라디안을 도(degree)로 변환
install.packages("NISTunits", dependencies = TRUE)
library(NISTunits)
NISTradianTOdeg(radianangle)
```

### **설명**
- **벡터 크기**: 유클리드 거리 공식을 사용하여 벡터의 크기를 계산합니다.
    - $$ ||a|| = \sqrt{\sum a_i^2} $$
- **코사인 값**: 두 벡터 사이의 코사인 값을 계산합니다.
    - $$ \cos\theta = \frac{a \cdot b}{||a|| \cdot ||b||} $$
- **라디안 변환**: `acos` 함수로 구한 라디안 값을 `NISTradianTOdeg` 함수로 도 단위로 변환합니다.

---

## **3. 행렬 생성 및 속성 확인**

### **코드**
```r
# 행렬 생성
(a = matrix(1:8, nrow = 3, ncol = 3, byrow = TRUE)) # 재활용 규칙 적용
matrix(1:9, nrow = 3, ncol = 3, byrow = FALSE)
matrix(1:12, nrow = 3) # 행 개수만 지정

# 행렬 속성 확인
class(a)          # "matrix" 또는 "array"
attributes(a)     # 차원 정보 (dim 등)
dim(a)            # 행렬의 차원 반환
```

### **설명**
- **행렬 생성**:
    - `matrix(data, nrow, ncol)` 함수로 행렬을 생성합니다.
    - `byrow = TRUE`는 데이터를 행 기준으로 채웁니다.
- **행렬 속성 확인**:
    - `class()`는 객체가 행렬인지 확인합니다.
    - `attributes()`는 객체의 속성을 반환합니다.
    - `dim()`은 행렬의 차원을 반환합니다.

---

## **4. 행 이름과 열 이름 지정**

### **코드**
```r
x <- matrix(1:9, nrow = 3, byrow = TRUE)

# 열 이름과 행 이름 설정
colnames(x) <- c("C1", "C2", "C3")
rownames(x) <- c("R1", "R2", "R3")

# 특정 요소 접근
x["R1", "C1"]  # 첫 번째 행 첫 번째 열 요소
x["R1", ]      # 첫 번째 행 전체
```

### **설명**
- **행/열 이름 추가**:
    - `colnames()`와 `rownames()`로 열과 행 이름을 설정할 수 있습니다.
- **특정 요소 접근**:
    - 대괄호 `[행이름, 열이름]`을 사용하여 특정 요소를 선택할 수 있습니다.

---

## **5. 전치행렬과 내적 연산**

### **코드**
```r
x <- matrix(1:12, nrow = 3, ncol = 4)

# 전치행렬 생성
xt <- t(x)

# 행렬 곱 연산 (3x4와 4x3 곱하여 결과는 3x3)
result <- x %*% t(x)

# 첫 번째 행과 첫 번째 열 내적 계산
dot_product <- sum(x[1,] * xt[,1])

# 출력 결과 확인
print(result)
print(dot_product)
```

### **설명**
- **전치행렬**:
    - `t(x)` 함수는 주어진 행렬의 전치행렬을 생성하며 행과 열이 서로 바뀝니다.
- **행렬 곱 연산**:
    - `%*%` 연산자는 두 행렬 간 곱셈을 수행합니다.
    - 예: $$ A_{m \times n} \times B_{n \times p} \rightarrow C_{m \times p} $$.
- **내적 계산**:
    - 특정 행과 열의 내적은 요소별 곱 후 합산하여 계산됩니다.

---

## **6. 고유값 분해**

### **코드**
```r
mdat <- matrix(seq(20, 4, -2), nrow = 3)

# 고유값 분해 수행
mdatEigen <- eigen(mdat %*% t(mdat))

# 고유벡터와 고유값 확인
mdatEigen$vectors  # 고유벡터 (정규화됨)
mdatEigen$values   # 고유값
```

### **설명**
- 고유값 분해는 정방행렬 또는 대칭행렬을 고유값과 고유벡터로 분해하는 과정입니다.
    - $$ A \cdot v = \lambda \cdot v $$
        - 여기서 $$\lambda$$는 고유값이고 $$v$$는 고유벡터입니다.
- R에서 `eigen()` 함수는 고유값과 고유벡터를 반환합니다.

---

## **7. 특이값 분해 (SVD)**

### **코드**
```r
x <- matrix(1:12, nrow=3)

# 특이값 분해 수행
svd_result <- svd(x)

U <- svd_result$u      # 좌측 특이벡터 (직교행렬)
Sigma <- diag(svd_result$d) # 특이값 대각행렬
Vt <- t(svd_result$v)  # 전치된 우측 특이벡터

# 원래 행렬 복원 가능 여부 확인
reconstructed_x <- U %*% Sigma %*% Vt

print(reconstructed_x)
```

### **설명**
- 특이값 분해(SVD)는 비정방행렬을 세 가지 구성 요소로 나눕니다:
    - $$ X = U \cdot \Sigma \cdot V^T $$
        - $$U$$: 좌측 특이벡터 (직교행렬)
        - $$\Sigma$$: 대각선에 특이값을 가진 대각행렬
        - $$V^T$$: 전치된 우측 특이벡터 (직교행렬)
- SVD는 데이터 축소나 차원 축소에 유용하게 사용됩니다.

---
